---
---
<form 
  id="contact-form"
  name="contact"
  method="POST" 
  action="https://formspree.io/f/mjgwedza"
  class="grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8"
>
  <div class="sm:col-span-2">
    <label for="name" class="block text-sm font-medium text-gray-300">Nombre</label>
    <div class="mt-1">
      <input 
        type="text" 
        name="name" 
        id="name" 
        autocomplete="name" 
        class="py-3 px-4 block w-full shadow-sm bg-gray-800 border-gray-700 rounded-md focus:ring-primary focus:border-primary text-gray-100" 
        placeholder="Tu nombre"
        required
      />
    </div>
  </div>
  
  <div class="sm:col-span-2">
    <label for="email" class="block text-sm font-medium text-gray-300">Correo electrónico</label>
    <div class="mt-1">
      <input 
        id="email" 
        name="email" 
        type="email" 
        autocomplete="email" 
        class="py-3 px-4 block w-full shadow-sm bg-gray-800 border-gray-700 rounded-md focus:ring-primary focus:border-primary text-gray-100"
        placeholder="Tu correo electrónico"
        required 
      />
    </div>
  </div>
  
  <div class="sm:col-span-2">
    <label for="message" class="block text-sm font-medium text-gray-300">Mensaje</label>
    <div class="mt-1">
      <textarea 
        id="message" 
        name="message" 
        rows={4} 
        class="py-3 px-4 block w-full shadow-sm bg-gray-800 border-gray-700 rounded-md focus:ring-primary focus:border-primary text-gray-100"
        placeholder="¿En qué te puedo ayudar?"
        required
      ></textarea>
    </div>
  </div>
  
  <div class="sm:col-span-2">
<button 
      type="submit" 
      class="w-full inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors"
    >
      Enviar mensaje
    </button>
  </div>
  <div id="form-message" class="sm:col-span-2 text-center mt-4 text-white"></div>
</form>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const formMessage = document.getElementById('form-message') as HTMLDivElement;

  form.addEventListener('submit', async (event) => {
    event.preventDefault();

    const formData = new FormData(form);
    const response = await fetch(form.action, {
      method: 'POST',
      body: formData,
      headers: {
        'Accept': 'application/json'
      }
    });

    if (response.ok) {
      formMessage.textContent = '¡Mensaje enviado con éxito! Nos pondremos en contacto contigo pronto.';
      formMessage.classList.remove('text-red-500');
      formMessage.classList.add('text-green-500');
      form.reset();
    } else {
      const data = await response.json();
      if (data.errors) {
        formMessage.textContent = data.errors.map((error: any) => error.message).join(', ');
      } else {
        formMessage.textContent = 'Hubo un error al enviar tu mensaje. Por favor, inténtalo de nuevo.';
      }
      formMessage.classList.remove('text-green-500');
      formMessage.classList.add('text-red-500');
    }
  });
</script>