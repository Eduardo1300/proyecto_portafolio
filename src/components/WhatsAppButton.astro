---
const phoneNumber = "34123456789"; // Actualiza este número con tu teléfono
const messageES = "¡Hola! Me interesa conocer más sobre tus servicios de desarrollo web. ¿Podrías contarme qué soluciones ofreces? Muchas gracias.";
const messageEN = "Hi! I'm interested in learning more about your web development services. Could you tell me what solutions you offer? Thank you!";

const message = messageES;
const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
---

<div class="fixed bottom-8 right-8 z-40 flex items-center justify-center">
  <!-- Borde externo -->
  <div class="absolute w-20 h-20 rounded-full border-4 border-green-300"></div>
  
  <!-- Botón principal -->
  <a
    href={whatsappUrl}
    target="_blank"
    rel="noopener noreferrer"
    class="whatsapp-button relative z-10 flex items-center justify-center w-16 h-16 rounded-full bg-green-500 hover:bg-green-600 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-110"
    aria-label="Contactar por WhatsApp"
    title="Contactar por WhatsApp"
  >
    <!-- Icono WhatsApp simple -->
    <svg
      class="w-8 h-8 text-white"
      fill="currentColor"
      viewBox="0 0 32 32"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M16 0C7.16 0 0 7.16 0 16c0 2.84.72 5.56 2.08 7.92L0 32l8.16-2.64C10.48 31.28 13.12 32 16 32c8.84 0 16-7.16 16-16S24.84 0 16 0zm0 29.6c-2.56 0-5.04-.68-7.2-1.96l-.52-.32-5.36 1.72 1.76-5.16-.36-.56C2.72 20.52 2 18.4 2 16c0-7.76 6.24-14 14-14s14 6.24 14 14-6.24 14-14 14z"/>
      <path d="M23.52 19.68c-.4-.2-2.36-1.16-2.72-1.3-.36-.16-.62-.24-.88.24-.26.48-1 1.3-1.24 1.56-.24.28-.48.32-.88.12-2.4-1.2-3.96-2.16-5.52-4.88-.4-.64.4-1.6 1.08-2.28.32-.32.4-.52.6-.88.2-.36.1-.68-.04-.96-.16-.28-1.04-2.52-1.44-3.44-.36-.92-.76-.8-1.04-.8-.28 0-.6 0-.88 0-.28 0-.8.12-1.2.56-.44.48-1.6 1.56-1.6 3.8 0 2.24 1.64 4.4 1.88 4.72.24.32 3.12 4.8 7.56 6.72 2.12.92 2.96 1.08 4.04.92.96-.16 2.4-.98 2.76-1.92.32-.96.32-1.76.24-1.92-.08-.16-.36-.28-.76-.48z"/>
    </svg>
  </a>
</div>

<script>
  const phoneNumber = "34123456789";
  const messages = {
    es: "¡Hola! Me interesa conocer más sobre tus servicios de desarrollo web. ¿Podrías contarme qué soluciones ofreces? Muchas gracias.",
    en: "Hi! I'm interested in learning more about your web development services. Could you tell me what solutions you offer? Thank you!"
  };

  function updateWhatsAppLink() {
    const currentLanguage = localStorage.getItem('language') || 'es';
    const message = messages[currentLanguage as keyof typeof messages] || messages.es;
    const whatsappLink = document.querySelector('.whatsapp-button') as HTMLAnchorElement;
    
    if (whatsappLink) {
      whatsappLink.href = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
    }
  }

  // Actualizar al cambiar idioma
  document.addEventListener('languageChanged', updateWhatsAppLink);
  
  // Actualizar al cargar la página
  updateWhatsAppLink();
</script>

<style>
  @media (prefers-reduced-motion: reduce) {
    a {
      animation: none !important;
      transition: none !important;
    }
  }
</style>
